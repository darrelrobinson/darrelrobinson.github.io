bye()
swirl()
main()
ls()
class(plants)
dim(plants)
main()
knitr::opts_chunk$set(echo = TRUE)
library(rgl)
library(knitr)
library(arm)
knit_hooks$set(webgl = hook_webgl)
setwd("/home/dj-ubuntu/Dropbox/teaching/Metod C/")
rm(list = ls())
set.seed(13435)
x <- runif(80, 0, 20)
y <- 15 + 3*x + rnorm(80,0,15)
y[y<20] <- NA
d_frame <- cbind("Military Expenditure" = x, "Support for Prez" = y)
plot(x, y, xlab = "Military Expenditure", ylab = "Support for Prez")
coefs3 <- coef(model3)
model3 <- lm(y ~ x + dem, data = d_frame_2)
coefs3 <- coef(model3)
model3 <- lm(y ~ x + dem, data = d_frame_2)
setwd("/home/dj-ubuntu/Dropbox/teaching/Metod C/")
set.seed(13435)
x <- runif(50, 0, 20)
y <- 15 + 1.67*x + rnorm(50,0,15)
y[y<20] <- NA
d_frame <- cbind("Military Expenditure" = x, "Support for Prez" = y)
plot(x, y, xlab = "Military Expenditure", ylab = "Support for Prez")
dem <- ifelse(x > 15, 0, 1)
dem[40] <- 0
dem[31] <- 0
dem[43] <- 0
dem[41] <- 0
dem[37] <- 0
dem <- dem + 1
d_frame_2 <- data.frame(cbind(y, x, dem))
model3 <- lm(y ~ x + dem, data = d_frame_2)
coefs3 <- coef(model3)
coefs3
a2 <- coefs3["x"]
b2 <- coefs3["dem"]
c2 <- -1
d2 <- coefs3["(Intercept)"]
d2
load("/home/dj-ubuntu/Dropbox/teaching/Metod C/R/survey.RData")
Dataset$income_100 <- with(Dataset, income / 100)
model <- lm(taxes ~ income_100, data = Dataset)
summary(model)
Dataset$income_1000 <- with(Dataset, income / 1000)
model <- lm(taxes ~ income_1000, data = Dataset)
summary(model)
model <- lm(taxes ~ income, data = Dataset)
summary(model)
Dataset$income_100 <- with(Dataset, income / 100)
model <- lm(taxes ~ income_100, data = Dataset)
summary(model)
rm(list = ls())
load("/home/dj-ubuntu/Dropbox/Kurstillfällen Metod C/Metod C 2018 VT/Enkät/survey.RData")
summary(Dataset$trust)
table(Dataset$trust)
table(Dataset$trust_politicians)
table(Dataset$taxes)
Dataset$taxes[Dataset$taxes == 6] <- NA
summary(Dataset$income)
model7 <- lm(taxes ~ trust + trust_politicians + income, data = Dataset)
summary(model7)
Dataset$inkomst2 <- Dataset$income
Dataset$inkomst2[Dataset$inkomst2 > 140000] <- NA
model6 <- lm(taxes ~ trust_politicians + inkomst2, data = Dataset)
summary(model6)
alt_model7 <- lm(taxes ~ trust + trust_politicians + inkomst2, data = Dataset)
summary(alt_model7)
##georg, melinda, matlida question
summary(Dataset$police_wage)
polis_model <- lm(police_wage ~ udda, data = Dataset)
summary(polis_model)
Dataset$polis2 <- Dataset$police_wage
Dataset$polis2[Dataset$polis2 > 750000] <- NA
polis_model2 <- lm(polis2 ~ udda, data = Dataset)
summary(polis_model2)
rm(list = ls())
load("/home/dj-ubuntu/Dropbox/Kurstillfällen Metod C/Metod C 2018 VT/Enkät/survey.RData")
summary(Dataset$trust)
table(Dataset$trust)
table(Dataset$trust_politicians)
table(Dataset$taxes)
Dataset$taxes[Dataset$taxes == 6] <- NA
summary(Dataset$income)
model7 <- lm(taxes ~ trust + trust_politicians + income, data = Dataset)
summary(model7)
Dataset$inkomst2 <- Dataset$income
Dataset$inkomst2[Dataset$inkomst2 > 140000] <- NA
model6 <- lm(taxes ~ trust_politicians + inkomst2, data = Dataset)
summary(model6)
alt_model7 <- lm(taxes ~ trust + trust_politicians + inkomst2, data = Dataset)
summary(alt_model7)
##georg, melinda, matlida question
summary(Dataset$police_wage)
polis_model <- lm(police_wage ~ udda, data = Dataset)
summary(polis_model)
Dataset$polis2 <- Dataset$police_wage
Dataset$polis2[Dataset$polis2 > 750000] <- NA
polis_model2 <- lm(polis2 ~ udda, data = Dataset)
summary(polis_model2)
polis_model_kon <- lm(polis_wage ~ udda + male_jur + udda:male_jur, data = Dataset)
polis_model_kon <- lm(police_wage ~ udda + male_jur + udda:male_jur, data = Dataset)
summary(polis_model_kon)
polis_model_kon <- lm(police_wage ~ udda + male_jur + udda:citysize, data = Dataset)
summary(polis_model_kon)
polis_model_kon <- lm(police_wage ~ udda + citysize + udda:citysize, data = Dataset)
summary(polis_model_kon)
polis_model_kon <- lm(police_wage ~ udda + inkomst2 + udda:inkomst2, data = Dataset)
summary(polis_model_kon)
Dataset$polis2[Dataset$polis2 < 1000] <- NA
polis_model2 <- lm(polis2 ~ udda, data = Dataset)
summary(polis_model2)
polis_model_kon <- lm(police_wage ~ udda + inkomst2 + udda:inkomst2, data = Dataset)
summary(polis_model_kon)
polis_model_kon <- lm(police_wage ~ udda + male_jur + udda:male_jur, data = Dataset)
summary(polis_model_kon)
polis_model_kon <- lm(police_wage ~ udda + male_jur + udda:male_jur, data = Dataset)
summary(polis_model_kon)
summary(Dataset$pet_drinking[Dataset$udda == 1])
summary(Dataset$pet_drinking[Dataset$udda == 0])
summary(Dataset$pet_drinking)
sqrt(25.4*(1-25.4)/length(Dataset$pet_drinking[Dataset$udda == 0]))
sqrt(25.4*(1-25.4)/length(Dataset$pet_drinking[Dataset$udda == 0, ]))
sqrt(25.4*(1-25.4)/length(Dataset$pet_drinking[Dataset$udda == 0]))
sqrt((25.4*(1-25.4))/length(Dataset$pet_drinking[Dataset$udda == 0]))
length(Dataset$pet_drinking[Dataset$udda == 0])
n <- length(Dataset$pet_drinking[Dataset$udda == 0])
sqrt((25.4*(1-25.4))/n)
sqrt((0.254*(1-0.254))/length(Dataset$pet_drinking[Dataset$udda == 0]))
1.96* sqrt((0.254*(1-0.254))/length(Dataset$pet_drinking[Dataset$udda == 0]))
summary(Dataset$pet_drinking[Dataset$udda == 0])
1.96* sqrt((0.254*(1-0.254))/length(Dataset$pet_drinking[Dataset$udda == 0])-53)
1.96* sqrt((0.254*(1-0.254))/length(Dataset$pet_drinking[Dataset$udda == 0]-53))
1.96* sqrt((0.245*(1-0.245))/length(Dataset$pet_drinking[Dataset$udda == 0]-53))
1.96* sqrt((0.245*(1-0.245))/length(Dataset$pet_drinking[Dataset$udda == 0]))
1.96* sqrt((0.245*(1-0.245))/length(Dataset$pet_drinking[Dataset$udda == 0]-53))
1.96* sqrt((0.245*(1-0.245))/(length(Dataset$pet_drinking[Dataset$udda == 0]-53)))
1.96* sqrt((0.245*(1-0.245))/(length(Dataset$pet_drinking[Dataset$udda == 0])))
sqrt((0.254*(1-0.254))/n)
1.96 * sqrt((0.254*(1-0.254))/n)
sqrt((0.245*(1-0.245))/n)
1.96* sqrt((0.245*(1-0.245))/n)
0.245 + 1.96 * sqrt((0.245*(1-0.245))/n)
n
n - 53
1.96 * sqrt((0.254*(1-0.254))/(n - 53))
0.245 + 1.96 * sqrt((0.245*(1-0.245))/(n - 53))
0.254 + 1.96 * sqrt((0.254*(1-0.254))/(n - 53))
0.254 - 1.96 * sqrt((0.254*(1-0.254))/(n - 53))
rm(list = ls())
load("/home/dj-ubuntu/Dropbox/Kurstillfällen Metod C/Metod C 2018 VT/Enkät/survey.RData")
summary(Dataset$trust)
table(Dataset$trust)
table(Dataset$trust_politicians)
table(Dataset$taxes)
Dataset$taxes[Dataset$taxes == 6] <- NA
summary(Dataset$income)
model7 <- lm(taxes ~ trust + trust_politicians + income, data = Dataset)
summary(model7)
Dataset$inkomst2 <- Dataset$income
Dataset$inkomst2[Dataset$inkomst2 > 140000] <- NA
model6 <- lm(taxes ~ trust_politicians + inkomst2, data = Dataset)
summary(model6)
alt_model7 <- lm(taxes ~ trust + trust_politicians + inkomst2, data = Dataset)
summary(alt_model7)
##georg, melinda, matlida question
summary(Dataset$police_wage)
polis_model <- lm(police_wage ~ udda, data = Dataset)
summary(polis_model)
Dataset$polis2 <- Dataset$police_wage
Dataset$polis2[Dataset$polis2 > 750000] <- NA
Dataset$polis2[Dataset$polis2 < 1000] <- NA
polis_model2 <- lm(polis2 ~ udda, data = Dataset)
summary(polis_model2)
polis_model_kon <- lm(police_wage ~ udda + male_jur + udda:male_jur, data = Dataset)
summary(polis_model_kon)
summary(Dataset$pet_drinking[Dataset$udda == 1])
summary(Dataset$pet_drinking[Dataset$udda == 0])
summary(Dataset$pet_drinking)
1.96* sqrt((0.245*(1-0.245))/(length(Dataset$pet_drinking[Dataset$udda == 0])))
n <- length(Dataset$pet_drinking[Dataset$udda == 0])
0.254 + 1.96 * sqrt((0.254*(1-0.254))/(n - 53))
0.254 - 1.96 * sqrt((0.254*(1-0.254))/(n - 53))
0.245 + 1.96 * sqrt((0.245*(1-0.245))/(n - 53))
n - 53
sd(Dataset$statements[Dataset$udda == 1])
sd(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
sd(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
mean(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
mean(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
length(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
length(Dataset$statements[Dataset$udda == 0 & !is.na(Dataset$statements)])
length(Dataset$statements[Dataset$udda == 1 & !is.na(Dataset$statements)])
s1 <- sd(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
s2 <- sd(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
m1 <- mean(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
m2 <- mean(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
n1 <- length(Dataset$statements[Dataset$udda == 0 & !is.na(Dataset$statements)])
n2 <- length(Dataset$statements[Dataset$udda == 1 & !is.na(Dataset$statements)])
se <- sqrt((s1/n1) + (s2/n2))
m1-m2 + 1.96*se
m1-m2 - 1.96*se
se
s1 <- sd(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
s2 <- sd(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
m1 <- mean(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
m2 <- mean(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
n1 <- length(Dataset$statements[Dataset$udda == 0 & !is.na(Dataset$statements)]) -1
n2 <- length(Dataset$statements[Dataset$udda == 1 & !is.na(Dataset$statements)]) -1
se <- sqrt((s1/n1) + (s2/n2))
m1-m2 + 1.96*se
m1-m2 - 1.96*se
m1
m2
names(Dataset)
summary(lm(ideology ~ citysize + education + male_jur + age, data = Dataset))
summary(lm(ideology ~ citysize, data = Dataset))
table(Dataset$termin)
table(Dataset$ideology)
table(Dataset$citysize)
summary(lm(citysize ~ ideology, data = Dataset))
summary(lm(ideology ~ citysize, data = Dataset))
summary(lm(ideology ~ citysize + education + male_jur + age, data = Dataset))
library(stargazer)
stargazer(summary(lm(ideology ~ citysize, data = Dataset)))
?stargazer
model1 <- summary(lm(ideology ~ citysize, data = Dataset))
stargazer(model1)
model1 <- summary(lm(ideology ~ citysize, data = Dataset))
stargazer(model1)
library(xtable)
xtable(model1)
summary(lm(ideology ~ citysize + education + male_jur + age, data = Dataset))
summary(lm(ideology ~ citysize, data = Dataset))
summary(lm(ideology ~ citysize + education, data = Dataset))
summary(lm(ideology ~ citysize + education + male_jur, data = Dataset))
summary(lm(ideology ~ citysize + education + male_jur + age, data = Dataset))
table(Dataset$male_jur)
length(Dataset$male_jur[Dataset$male_jur == 0]) / length(Dataset$male_jur)
508 / (508+295)
length(Dataset$male_jur[Dataset$male_jur == 0])
length(Dataset$male_jur)
s_m <- Dataset[Dataset$party == 3 | Dataset$party == 6, ]
summary(lm(resign ~ sammablock, data = s_m))
summary(lm(give ~ male_jur + working, data = Dataset))
Dataset$work_dummy <- ifelse(Dataset$working > 0 & !is.na(Dataset$working), 1, 0)
summary(lm(give ~ male_jur + work_dummy, data = Dataset))
Dataset$work_dummy2 <- ifelse(Dataset$working > 0, 1, 0)
summary(lm(give ~ male_jur + work_dummy2, data = Dataset))
summary(lm(give ~ male_jur + work_dummy, data = Dataset))
summary(Dataset$give)
library(swirld)
library(swirl)
swirl()
swirl::install_course("Data Analysis")
swirl::install_course("Data_Analysis")
swirl::install_course("Data Analysis")
summary(lm(give ~ male_jur + work_dummy2, data = Dataset[Dataset$party == 3 | Dataset$party == 6]))
summary(lm(give ~ male_jur + work_dummy2, data = Dataset[Dataset$party == 3 | Dataset$party == 6,]))
summary(lm(give ~ male_jur + work_dummy2, data = Dataset[Dataset$party != 3 & Dataset$party 1= 6,]))
summary(lm(give ~ male_jur + work_dummy2, data = Dataset[Dataset$party != 3 & Dataset$party != 6,]))
summary(lm(give ~ male_jur + work_dummy2, data = Dataset[Dataset$udda == 1,]))
summary(lm(give ~ male_jur + work_dummy2, data = Dataset[Dataset$udda == 0,]))
summary(lm(give ~ male_jur + work_dummy, data = Dataset[Dataset$party == 3 | Dataset$party == 6,]))
summary(lm(give ~ male_jur + work_dummy, data = Dataset[Dataset$party != 3 & Dataset$party != 6,]))
summary(lm(give ~ male_jur + work_dummy, data = Dataset[Dataset$udda == 1,]))
summary(lm(give ~ male_jur + work_dummy, data = Dataset[Dataset$udda == 0,]))
summary(Dataset$give)
summary(Dataset$male_jur)
summary(lm(give ~ male_jur + work_dummy, data = Dataset))
rm(list = ls())
load("/home/dj-ubuntu/Dropbox/Kurstillfällen Metod C/Metod C 2018 VT/Enkät/survey.RData")
summary(Dataset$trust)
table(Dataset$trust)
table(Dataset$trust_politicians)
table(Dataset$taxes)
Dataset$taxes[Dataset$taxes == 6] <- NA
summary(Dataset$income)
model7 <- lm(taxes ~ trust + trust_politicians + income, data = Dataset)
summary(model7)
Dataset$inkomst2 <- Dataset$income
Dataset$inkomst2[Dataset$inkomst2 > 140000] <- NA
model6 <- lm(taxes ~ trust_politicians + inkomst2, data = Dataset)
summary(model6)
alt_model7 <- lm(taxes ~ trust + trust_politicians + inkomst2, data = Dataset)
summary(alt_model7)
##georg, melinda, matlida question
summary(Dataset$police_wage)
polis_model <- lm(police_wage ~ udda, data = Dataset)
summary(polis_model)
Dataset$polis2 <- Dataset$police_wage
Dataset$polis2[Dataset$polis2 > 750000] <- NA
Dataset$polis2[Dataset$polis2 < 1000] <- NA
polis_model2 <- lm(polis2 ~ udda, data = Dataset)
summary(polis_model2)
polis_model_kon <- lm(police_wage ~ udda + male_jur + udda:male_jur, data = Dataset)
summary(polis_model_kon)
summary(Dataset$pet_drinking[Dataset$udda == 1])
summary(Dataset$pet_drinking[Dataset$udda == 0])
summary(Dataset$pet_drinking)
1.96* sqrt((0.245*(1-0.245))/(length(Dataset$pet_drinking[Dataset$udda == 0])))
n <- length(Dataset$pet_drinking[Dataset$udda == 0])
0.254 + 1.96 * sqrt((0.254*(1-0.254))/(n - 53))
0.254 - 1.96 * sqrt((0.254*(1-0.254))/(n - 53))
0.245 + 1.96 * sqrt((0.245*(1-0.245))/(n - 53))
n - 53
s1 <- sd(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
s2 <- sd(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
m1 <- mean(Dataset$statements[Dataset$udda == 1], na.rm = TRUE)
m2 <- mean(Dataset$statements[Dataset$udda == 0], na.rm = TRUE)
n1 <- length(Dataset$statements[Dataset$udda == 0 & !is.na(Dataset$statements)]) -1
n2 <- length(Dataset$statements[Dataset$udda == 1 & !is.na(Dataset$statements)]) -1
se <- sqrt((s1/n1) + (s2/n2))
m1-m2 + 1.96*se
m1-m2 - 1.96*se
m1
m2
se
0.313 + 1.96* sqrt((0.95))
names(Dataset)
summary(lm(ideology ~ citysize + education + male_jur + age, data = Dataset))
summary(lm(ideology ~ citysize, data = Dataset))
summary(lm(ideology ~ citysize + education, data = Dataset))
summary(lm(ideology ~ citysize + education + male_jur, data = Dataset))
table(Dataset$termin)
table(Dataset$ideology)
table(Dataset$citysize)
table(Dataset$male_jur)
s_m <- Dataset[Dataset$party == 3 | Dataset$party == 6, ]
summary(lm(resign ~ sammablock, data = s_m))
summary(lm(give ~ male_jur + working, data = Dataset))
Dataset$work_dummy <- ifelse(Dataset$working > 0 & !is.na(Dataset$working), 1, 0)
summary(lm(give ~ male_jur + work_dummy, data = Dataset))
library(swirl)
swirl()
num_vect <- c(0.5, 55, -10, 6)
tf <- num_vect < 1
tf
main()
x <- c(44, NA, 5, NA)
x * 3
y <- rnorm(1000)
z <- rep(NA, 1000)
my_data <- sample(c(y,z), 100)
main()
main()
x
x[1:10]
x[is.na(x)]
y <- x[!is.na(x)]
y
y[y > 0]
main()
main()
table(Dataset$party)
table(Dataset$ideology)
length(Dataset$ideology)
length(Dataset$ideology[!is.na(Dataset$ideology)])
length(Dataset$party[!is.na(Dataset$party)])
length(Dataset$party[!is.na(Dataset$party) & Dataset$party != 9])
library(swirld)
library(swirl)
swirl()
install_course("Data Analysis")
install_course("Data_Analysis")
install_course("Open Intro")
install_course("Open_Intro")
bye()
install_course("Data Analysis")
install_course("Data_Analysis")
install_course("Open_Intro")
install_from_swirl("Open_Intro")
install_from_swirl("Data Analysis")
swirl()
y <- 100
cars$type
sqrt(y)
z <- sqrt(y)
?sqrt
cars
10
range(cars$price)
sum(cars$price)
1079.6/54
mean(cars$price)
mpg.midsize
sort(mpg.midsize)
mpg.sorted <- sort(mpg.midsize)
25
19
median(mpg.midsize)
summary(cars$mpgCity)
25
nxt()
19
18-35
17
sd(mpg.midsize)
sd(mpg.midsize) ^2
24
cars
cars$mpgCity
myMPG <- cars$mpgCity
mean(myMPG)
median(myMPG)
table(myMPG)
19
summary(lm(quotas ~ party + citysize, data = Dataset[Dataset$party != 9,]))
summary(lm(quotas ~ ideology + citysize, data = Dataset[Dataset$party != 9,]))
summary(Dataset$facebook)
Dataset$facebook2 <- NA
Dataset$facebook2 <- Dataset$facebook
Dataset$facebook2[Dataset$facebook2 > 1000] <- NA
summary(lm(life.satisfaction ~ facebook2, data = Dataset))
names(Dataset)
summary(lm(life_satisfaction ~ facebook2, data = Dataset))
2+2
x <- 2
x
print("Hello world!")
2+2
2+2
2+2
x <- 2
print("Hello world!")
y <- 1:10
y
h <- "hello world!"
h
library(swirl)
swirl()
fit <- lm(child ~ parent, data = galton)
summary(fit)
mean(fit$residuals)
cov(fit$residuals, galton$parent)
main()
main()
install.packages("jmv")
library(jmv)
remove.packages("jmv")
remove.packages("jmv", lib)
remove.packages(jmv)
library(jmv)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
source('~/Documents/Webpage/personal_webpage/build_site.R', echo=TRUE)
setwd("/home/dj-ubuntu/R/China Map")
library(maps)
library(mapdata)
library(maptools)
china_map1 <- readShapePoly("CHN_adm_shp/CHN_adm1.shp")
china_map2 <- china_map1@data
head(china_map2)
View(china_map2)
library(ggplot2)
china_map3 <- fortify(china_map1) ## fortify() is a function in the package of ggplot2, we will talk about it later
head(china_map3)
#china_map2$NAME <- iconv(china_map2$NAME, from = 'GBK') ## The original coding format is GBK
plot(china_map1)
Beijing <- china_map1[china_map1$NAME_1 == "Beijing",]
plot(Beijing)
Shanghai <- china_map1[china_map1$NAME_1 == "Shanghai",]
plot(Shanghai)
china_map2$NAME <- iconv(china_map2$NAME, from = "GBK") ## transform to UTF-8 coding format
china_map2x <- data.frame(china_map2,id=seq(0:30)-1) ## prepare to join by id
library(plyr)
china_map4 <- join(china_map3, china_map2x, type = "full")
ggplot(china_map4, aes(x = long, y = lat, group = group, fill = NAME_1)) +
geom_path(color = 'grey40') +
geom_polygon() +
scale_fill_manual(values = rainbow(33), guide = F) +
coord_map()
NAME_1 <- china_map2$NAME_1
imp_year <- c(1987,1986,1995, 1988, 1990, 1986, 1991, 1988, 1991, 1994, 1986, 1986, 1987, 1991, 1986, 1986,
1987, 1986, 1988, 1986, 1988, 1987, 1986, 1993, 1986, 1995, 1986, 1988, 1994, 1986, 1994)
imp_year <- data.frame(NAME_1, imp_year)
china_map_imp_year <- join(china_map4, imp_year, type = "full")
map <- ggplot(china_map_imp_year, aes(x = long, y = lat, group = group, fill = imp_year)) +
geom_polygon() +
geom_path(color = "grey40") +
coord_map() +
theme(legend.position = "none", panel.grid.major = element_blank(), panel.grid.minor = element_blank(), panel.border = element_blank()) +
theme_bw()
map
setwd("/home/dj-ubuntu/R/China Map")
library(maps)
